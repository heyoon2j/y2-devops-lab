description: |-
  # Automation Runbook : SelectRunbook
  * This Runbook executes specific child runbook or concurrently multi child runbook.

  ## Select
  * 
  * 
  *Replace this default text with instructions or other information about your document.*  
schemaVersion: '0.3'
parameters:
  isSingle:
    type: Boolean
    description: "true : Execute single runbook / false : Execute multi runbook"
    default: true
    allowedPattern: ""
    maxItems: 1
  runbookName:
    type: String
    default: 'test'
    allowedPattern: ""
    maxItems: 1
mainSteps:
  - name: 'selectRunbook'
    action: 'aws:branch'
    inputs:
      Choices:
        - NextStep: 'executeGroupRunbook'
          Variable: "{{ isSingle }}"
          BooleanEquals: false
      Default:
        'executeSingleRunbook'
  - name: 'executeSingleRunbook'
    action: 'aws:executeAutomation'
    inputs:
      DocumentName: "{{ drAutomationName }}"
    next: true
  - name: 'executeGroupRunbook'
    action: 'aws:executeAutomation'
    inputs:
      DocumentName: "{{ drAutomationName }}"
      RuntimeParameters:
      MaxConcurrency: '100%'
      MaxErrors: '100%'
    isEnd: true
  - name: 'sleep10s'
    action: 'aws:sleep'
    inputs:
      Duration: PT10S
    isEnd: true